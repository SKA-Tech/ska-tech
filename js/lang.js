
// --- Translations ---
const translations = {
      ru: {
        // Навигация
        "nav-services": "Услуги",
        "nav-courses": "Курсы",
        "nav-about": "О нас",
        "nav-contact": "Свяжитесь с нами",
        "nav-phone": "+7 996 938-93-24",

        // Hero секция
        "hero-title": "IT-Решения и Обучение: От Идеи до Реализации",
        "hero-subtitle":
          "Программируй будущее вместе с нами. Мы делаем сайты и помогаем тебе создавать свои.",
        "hero-start": "Начать",
        "hero-learn-more": "Узнать больше",

        // О нас
        "about-title": "Работайте с нами",
        "about-description":
          "Мы — ваша комплексная IT-студия. Мы не только разрабатываем сайты, приложения и программное обеспечение под ваши задачи, но и обучаем программированию с нуля.",
        "about-staff": "Коллеги, работающие полный рабочий день",
        "about-services": "Услуги",
        "about-courses": "Обучаемые курсы",

        // Услуги
        "services-title": "Мы делаем всё в IT",
        "services-subtitle":
          "Разработка, поддержка и обучение — полный цикл услуг для вашего бизнеса и карьеры в IT.",
        "service-web": "Создание и разработка сайтов",
        "service-web-desc":
          "Мы создаём современные и удобные сайты: корпоративные, лендинги и интернет-магазины. Каждый проект разрабатывается индивидуально, с учётом потребностей вашего бизнеса.",
        "service-support": "Поддержка и сопровождение",
        "service-support-desc":
          "Обеспечиваем стабильную работу ваших проектов: обновления, техническая поддержка и защита от сбоев. Вы можете быть уверены, что ваш сайт всегда будет работать без перебоев.",
        "service-design": "Дизайн и брендинг",
        "service-design-desc":
          "Разрабатываем уникальный дизайн и фирменный стиль для вашего бизнеса. Создаём интерфейсы, логотипы и визуальные решения, которые делают ваш бренд узнаваемым и современным.",
        "service-apps": "Разработка приложений",
        "service-apps-desc":
          "Мы создаём мобильные и веб-приложения под ваши задачи: удобные, функциональные и современные. Каждое приложение разрабатывается так, чтобы улучшать работу вашего бизнеса и радовать пользователей.",

        // Курсы
        "courses-title": "Курсы Академии",
        "courses-subtitle":
          "Выберите свой путь обучения и развивайте навыки во Frontend, Backend, мобильной разработке или начните с нашей программы для детей.",
        "course-html": "HTML и CSS",
        "course-html-desc": "Изучите строительные блоки веба",
        "course-js": "JavaScript",
        "course-js-desc": "Освойте язык веб-программирования",
        "course-react": "React",
        "course-react-desc": "Современная фронтенд-библиотека",
        "course-kids": "Программирование для детей",
        "course-kids-desc": "Увлекательное обучение с нуля",
        "course-design": "Графический дизайн",
        "course-design-desc": "Создавайте визуальный контент",
        "course-golang": "Golang",
        "course-golang-desc": "Высокопроизводительный язык",
        "course-cpp": "Основы C++",
        "course-cpp-desc": "Мощный системный язык",
        "course-csharp": "Основы C#",
        "course-csharp-desc": "Универсальный язык от Microsoft",
        "course-python": "Python",
        "course-python-desc": "Популярный язык для всех задач",
        "course-git": "Git",
        "course-git-desc": "Система контроля версий",
        "course-start": "Начать курс",
        "show-more": "Показать больше курсов",
        "show-less": "Скрыть курсы",

        // Контактная форма
        "contact-title": "Бесплатная консультация",
        "contact-subtitle":
          "Оставьте свои контактные данные, мы перезвоним вам и ответим на все ваши вопросы",
        "first-name": "Имя *",
        "first-name-placeholder": "Введите ваше имя",
        "last-name": "Фамилия",
        "last-name-placeholder": "Введите вашу фамилию",
        phone: "Номер телефона *",
        "phone-placeholder": "900 123-45-67",
        message: "Сообщение",
        "message-placeholder":
          "Расскажите о ваших вопросах или целях обучения...",
        privacy: "Я соглашаюсь с",
        "privacy-policy": "политикой конфиденциальности",
        submit: "Отправить заявку",
        "required-fields": "* Обязательные для заполнения поля",

        // Футер
        "footer-description":
          "IT-академия и студия разработки. Мы создаем цифровые решения и обучаем будущих специалистов.",
        "footer-courses": "Курсы",
        "footer-services": "Услуги",
        "footer-frontend": "Frontend разработка",
        "footer-backend": "Backend разработка",
        "footer-design": "Дизайн",
        "footer-web-dev": "Разработка сайтов",
        "footer-mobile": "Мобильные приложения",
        "footer-support": "Техническая поддержка",
        "footer-copyright": "© 2025 SKA-Tech. Все права защищены.",
        "footer-about": "О нас",
        "footer-privacy": "Политика конфиденциальности",
        "footer-contact": "Контакты",
      },
      tj: {
        // Навигация
        "nav-services": "Хизматҳо",
        "nav-courses": "Курсҳо",
        "nav-about": "Дар бораи мо",
        "nav-contact": "Бо мо тамос гиред",
        "nav-phone": "+7 996 938-93-24",

        // Hero секция
        "hero-title": "Аз идея то воқеият — IT-корҳо ва омӯзиш барои шумо",
        "hero-subtitle":
          "Бо мо ояндаро созед — омӯзед, барномарезӣ кунед ва орзуятонро амали гардонед.",
        "hero-start": "Оғоз",
        "hero-learn-more": "Маълумоти бештар",

        // О нас
        "about-title": "Ба мо ҳамроҳ шавед",
        "about-description":
          "Мо — студияи IT-и шумо. Мо на танҳо вебсайтҳо, барномаҳо ва нармафзорҳоро барои вазифаҳои шумо таҳия мекунем, балки ба шумо барномасоз шуданро меомӯзонем.",
        "about-staff": "Кормандоне, ки пурра вақт кор мекунанд",
        "about-services": "Хизматҳо",
        "about-courses": "Курсҳои таҳсилӣ",

        // Услуги
        "services-title": "Мо ҳама чизро дар IT мекунем",
        "services-subtitle":
          "Таҳия, дастгирӣ ва таҳсил — силсилаи пурраи хизматҳо барои тиҷорат ва касби шумо дар IT.",
        "service-web": "Эҷод ва таҳияи вебсайтҳо",
        "service-web-desc":
          "    Мо вебсайтҳое месозем, ки на танҳо зебо, балки барои корбар осон ва дӯстдошта бошанд: корпоративӣ, лендингҳо ва мағозаҳои интернетӣ. Ҳар як лоиҳа ба таври инфиродӣ, бо назардошти эҳтиёҷоти тиҷорати шумо таҳия мешавад.",
        "service-support": "Дастгирӣ ва ҳамроҳӣ",
        "service-support-desc":
          "Мо кори устувори лоиҳаҳои шуморо таъмин мекунем: навсозӣ, дастгирии техникӣ ва муҳофизат аз ихтилол. Шумо метавонед бовар дошта бошед, ки вебсайти шумо ҳамеша бе ихтилол кор хоҳад кард.",
        "service-design": "Тарроҳӣ ва брендсозӣ",
        "service-design-desc":
          "Мо тарроҳии беназир ва услуби брендиро барои тиҷорати шумо таҳия мекунем. Мо интерфейсҳо, логотипҳо ва ҳалли визуалиро месозем, ки бренди шуморо шинохта ва муосир мекунад.",
        "service-apps": "Таҳияи барномаҳо",
        "service-apps-desc":
          "Мо барномаҳои мобилӣ ва вебӣ месозем, ки барои корбар осон ва барои тиҷорат самарабахш бошанд. Ҳар як барнома ба таври алоҳида барои беҳтар кардани кори шумо ва хурсандии корбарон таҳия мешавад.",

        // Курсы
        "courses-title": "Курсҳои Академия",
        "courses-subtitle":
          "Роҳи таҳсили худро интихоб кунед ва дар Frontend, Backend, таҳияи барномаҳои мобилӣ ё бо барномаи мо барои кӯдакон маҳорат ҳосил кунед.",
        "course-html": "HTML ва CSS",
        "course-html-desc": "Блокҳои сохтмонии вебро омӯзед",
        "course-js": "JavaScript",
        "course-js-desc":
          "Забони барномасози барои вебсайтҳои интерактивӣ-ро омӯзед",
        "course-react": "React",
        "course-react-desc": "Китобхонаи муосири фронтенд",
        "course-kids": "Барномасозӣ барои кӯдакон",
        "course-kids-desc": "Омӯзиши ҷолиб аз сифр",
        "course-design": "Дизайни графикӣ",
        "course-design-desc": "Контентҳои визуалӣ эҷод кунед",
        "course-golang": "Golang",
        "course-golang-desc": "Забони баланд суръати Google",
        "course-cpp": "Асосҳои C++",
        "course-cpp-desc": "Забони қаввии системавӣ",
        "course-csharp": "Асосҳои C#",
        "course-csharp-desc": "Забони универсалии Microsoft",
        "course-python": "Python",
        "course-python-desc": "Забони машҳур барои ҳама вазифаҳо",
        "course-git": "Git",
        "course-git-desc": "Системаи назорати версияҳо",
        "course-start": "Оғози курс",
        "show-more": "Курсҳои бештар нишон диҳед",
        "show-less": "Курсҳоро пинҳон кунед",

        // Контактная форма
        "contact-title": "Маслиҳати ройгон",
        "contact-subtitle":
          "Маълумоти тамоси худро гузоред, мо ба шумо занг мезанем ва ба ҳама саволҳои шумо ҷавоб медиҳем",
        "first-name": "Ном *",
        "first-name-placeholder": "Номи худро ворид кунед",
        "last-name": "Насаб",
        "last-name-placeholder": "Насаби худро ворид кунед",
        phone: "Рақами телефон *",
        "phone-placeholder": "900 123-45-67",
        message: "Паём",
        "message-placeholder":
          "Дар бораи саволҳо ё мақсадҳои таҳсили худ нақл кунед...",
        privacy: "Ман розӣ ҳастам бо",
        "privacy-policy": "сиёсати махфият",
        submit: "Фиристодани дархост",
        "required-fields": "* Майдонҳои ҳатмӣ барои пур кардан",

        // Футер
        "footer-description":
          "Академияи IT ва студияи таҳия. Мо ҳалли рақамӣ эҷод мекунем ва мутахассисони ояндаро таҳсил медиҳем.",
        "footer-courses": "Курсҳо",
        "footer-services": "Хизматҳо",
        "footer-frontend": "Таҳияи Frontend",
        "footer-backend": "Таҳияи Backend",
        "footer-design": "Тарроҳӣ",
        "footer-web-dev": "Таҳияи вебсайтҳо",
        "footer-mobile": "Барномаҳои мобилӣ",
        "footer-support": "Дастгирии техникӣ",
        "footer-copyright": "© 2025 SKA-Tech. Ҳама ҳуқуқҳо ҳифз шудаанд.",
        "footer-about": "Дар бораи мо",
        "footer-privacy": "Сиёсати махфият",
        "footer-contact": "Тамос",
      },
    };

    let currentLang = "ru";

    function changeLanguage(lang) {
      currentLang = lang;
      document.documentElement.lang = lang;

      // Обновляем все элементы с data-i18n атрибутом
      document.querySelectorAll("[data-i18n]").forEach((element) => {
        const key = element.getAttribute("data-i18n");
        if (translations[lang][key]) {
          if (element.tagName === "INPUT" || element.tagName === "TEXTAREA") {
            element.placeholder = translations[lang][key];
          } else {
            element.textContent = translations[lang][key];
          }
        }
      });

      // Обновляем переключатель языка
      updateLanguageSwitcher(lang);

      // Сохраняем выбор языка в localStorage
      localStorage.setItem("preferred-language", lang);
    }

    function updateLanguageSwitcher(lang) {
      const switcher = document.getElementById("language-switcher");
      const flag = document.getElementById("language-flag");
      const text = document.getElementById("language-text");

      if (lang === "ru") {
        flag.src = "./images/flags/russia.png";
        flag.srcset = "/images/flags/russia.png 2x";
        flag.alt = "Русский флаг";
        text.textContent = "РУС";
      } else {
        flag.src = "./images/flags/tajikistan.png";
        flag.srcset = "./images/flags/tajikistan.png 2x";
        flag.alt = "Флаг Таджикистана";
        text.textContent = "ТҶК";
      }
    }

    function toggleLanguage() {
      const newLang = currentLang === "ru" ? "tj" : "ru";
      changeLanguage(newLang);
    }

     // Функция для обновления мобильного переключателя языка
    function updateLanguageSwitcher(lang) {
      const flag = document.getElementById("language-flag");
      const text = document.getElementById("language-text");

      if (lang === "ru") {
        flag.src = "./images/flags/russia.png";
        flag.srcset = "./images/flags/russia.png 2x";
        flag.alt = "Русский флаг";
        text.textContent = "РУС";
      } else {
        flag.src = "./images/flags/tajikistan.png";
        flag.srcset = "./images/flags/tajikistan.png 2x";
        flag.alt = "Флаг Таджикистана";
        text.textContent = "ТҶК";
      }
    }

    // Обновленная функция changeLanguage
    function changeLanguage(lang) {
      currentLang = lang;
      document.documentElement.lang = lang;

      // Обновляем все элементы с data-i18n атрибутом
      document.querySelectorAll("[data-i18n]").forEach((element) => {
        const key = element.getAttribute("data-i18n");
        if (translations[lang][key]) {
          if (element.tagName === "INPUT" || element.tagName === "TEXTAREA") {
            element.placeholder = translations[lang][key];
          } else {
            element.textContent = translations[lang][key];
          }
        }
      });

      // Обновляем переключатели языка
      updateLanguageSwitcher(lang);
      updateMobileLanguageSwitcher(lang);

      // Сохраняем выбор языка в localStorage
      localStorage.setItem("preferred-language", lang);
    }

    function updateLanguageSwitcher(lang) {
      const flag = document.getElementById("language-flag");
      const text = document.getElementById("language-text");

      if (lang === "ru") {
        flag.src = "./images/flags/russia.png";
        flag.srcset = "./images/flags/russia.png 2x";
        flag.alt = "Русский флаг";
        text.textContent = "РУС";
      } else {
        flag.src = "./images/flags/tajikistan.png";
        flag.srcset = "./images/flags/tajikistan.png 2x";
        flag.alt = "Флаг Таджикистана";
        text.textContent = "ТҶК";
      }
    }

    function updateMobileLanguageSwitcher(lang) {
      const mobileFlag = document.getElementById("mobile-language-flag");
      const mobileText = document.getElementById("mobile-language-text");

      if (lang === "ru") {
        mobileFlag.src = "./images/flags/russia.png";
        mobileFlag.srcset = "./images/flags/russia.png 2x";
        mobileFlag.alt = "Русский флаг";
        mobileText.textContent = "РУС";
      } else {
        mobileFlag.src = "./images/flags/tajikistan.png";
        mobileFlag.srcset = "./images/flags/tajikistan.png 2x";
        mobileFlag.alt = "Флаг Таджикистана";
        mobileText.textContent = "ТҶК";
      }
    }

    function toggleLanguage() {
      const newLang = currentLang ===   "ru" ? "tj" : "ru";
      changeLanguage(newLang);
    }
