const translations = {
            ru: {
                // Навигация
                "nav-services": "Услуги",
                "nav-courses": "Курсы",
                "nav-about": "О нас",
                "nav-contact": "Свяжитесь с нами",
                "nav-phone": "+7 999 322-78-78",

                // Hero секция
                "hero-title": "IT-Решения и Обучение: От Идеи до Реализации",
                "hero-subtitle": "Программируй будущее вместе с нами. Мы делаем сайты и помогаем тебе создавать свои.",
                "hero-start": "Начать",
                "hero-learn-more": "Узнать больше",

                // О нас
                "about-title": "Работайте с нами",
                "about-description": "Мы — ваша комплексная IT-студия. Мы не только разрабатываем сайты, приложения и программное обеспечение под ваши задачи, но и обучаем программированию с нуля.",
                "about-staff": "Коллеги, работающие полный рабочий день",
                "about-services": "Услуги",
                "about-courses": "Обучаемые курсы",

                // Услуги
                "services-title": "Мы делаем всё в IT",
                "services-subtitle": "Разработка, поддержка и обучение — полный цикл услуг для вашего бизнеса и карьеры в IT.",
                "service-web": "Создание и разработка сайтов",
                "service-web-desc": "Мы создаём современные и удобные сайты: корпоративные, лендинги и интернет-магазины. Каждый проект разрабатывается индивидуально, с учётом потребностей вашего бизнеса.",
                "service-support": "Поддержка и сопровождение",
                "service-support-desc": "Обеспечиваем стабильную работу ваших проектов: обновления, техническая поддержка и защита от сбоев. Вы можете быть уверены, что ваш сайт всегда будет работать без перебоев.",
                "service-design": "Дизайн и брендинг",
                "service-design-desc": "Разрабатываем уникальный дизайн и фирменный стиль для вашего бизнеса. Создаём интерфейсы, логотипы и визуальные решения, которые делают ваш бренд узнаваемым и современным.",
                "service-apps": "Разработка приложений",
                "service-apps-desc": "Мы создаём мобильные и веб-приложения под ваши задачи: удобные, функциональные и современные. Каждое приложение разрабатывается так, чтобы улучшать работу вашего бизнеса и радовать пользователей.",

                // Курсы
                "courses-title": "Курсы Академии",
                "courses-subtitle": "Выберите свой путь обучения и развивайте навыки во Frontend, Backend, мобильной разработке или начните с нашей программы для детей.",
                "course-html": "HTML и CSS",
                "course-html-desc": "Изучите строительные блоки веба",
                "course-js": "JavaScript",
                "course-js-desc": "Освойте язык веб-программирования",
                "course-react": "React",
                "course-react-desc": "Современная фронтенд-библиотека",
                "course-kids": "Программирование для детей",
                "course-kids-desc": "Увлекательное обучение с нуля",
                "course-design": "Графический дизайн",
                "course-design-desc": "Создавайте визуальный контент",
                "course-golang": "Golang",
                "course-golang-desc": "Высокопроизводительный язык",
                "course-cpp": "Основы C++",
                "course-cpp-desc": "Мощный системный язык",
                "course-csharp": "Основы C#",
                "course-csharp-desc": "Универсальный язык от Microsoft",
                "course-python": "Python",
                "course-python-desc": "Популярный язык для всех задач",
                "course-git": "Git",
                "course-git-desc": "Система контроля версий",
                "course-start": "Начать курс",
                "show-more": "Показать больше курсов",
                "show-less": "Скрыть курсы",

                // Контактная форма
                "contact-title": "Бесплатная консультация",
                "contact-subtitle": "Оставьте свои контактные данные, мы перезвоним вам и ответим на все ваши вопросы",
                "mail-button":"Отправить заявку",
                "mail-note":"Нажмите кнопку, чтобы открыть форму в новой вкладке",
                "first-name": "Имя *",
                "first-name-placeholder": "Введите ваше имя",
                "last-name": "Фамилия",
                "last-name-placeholder": "Введите вашу фамилию",
                phone: "Номер телефона *",
                "phone-placeholder": "900 123-45-67",
                message: "Сообщение",
                "message-placeholder": "Расскажите о ваших вопросах или целях обучения...",
                privacy: "Я соглашаюсь с",
                "privacy-policy": "политикой конфиденциальности",
                submit: "Отправить заявку",
                "required-fields": "* Обязательные для заполнения поля",

                // Футер
                "footer-description": "IT-академия и студия разработки. Мы создаем цифровые решения и обучаем будущих специалистов.",
                "footer-courses": "Курсы",
                "footer-services": "Услуги",
                "footer-frontend": "Frontend разработка",
                "footer-backend": "Backend разработка",
                "footer-design": "Дизайн",
                "footer-web-dev": "Разработка сайтов",
                "footer-mobile": "Мобильные приложения",
                "footer-support": "Техническая поддержка",
                "footer-copyright": "© 2025 SKA-Tech. Все права защищены.",
                "footer-about": "О нас",
                "footer-privacy": "Политика конфиденциальности",
                "footer-contact": "Контакты",

                // Тексты для страницы курса HTML и CSS
                "course-page-title": "HTML и CSS",
                "course-page-subtitle": "Освойте основы веб-разработки и создайте свои первые сайты",
                "course-program": "Программа курса",
                "module-1": "Модуль 1: Основы HTML",
                "module-1-list": "• Структура HTML-документа\n• Теги и атрибуты\n• Семантическая верстка\n• Формы и инпуты\n• Мета-теги и SEO основы",
                "module-2": "Модуль 2: Основы CSS",
                "module-2-list": "• Селекторы и специфичность\n• Box model и позиционирование\n• Flexbox и Grid layouts\n• Адаптивный дизайн\n• CSS переменные",
                "module-3": "Модуль 3: Практика",
                "module-3-list": "• Создание лендинга\n• Верстка по макету Figma\n• Адаптация под мобильные устройства\n• Оптимизация и производительность\n• Деплой проекта",
                "course-price": "5 999 ₽",
                "price-description": "за весь курс",
                "feature-1": "12 практических занятий",
                "feature-2": "Доступ к материалам навсегда",
                "feature-3": "Сертификат о завершении",
                "feature-4": "Поддержка преподавателя",
                "enroll-button": "Записаться на курс",
                "course-details": "Детали курса",
                "level": "Уровень:",
                "level-value": "Начальный",
                "duration": "Продолжительность:",
                "duration-value": "4 недели",
                "classes-per-week": "Занятия в неделю:",
                "classes-value": "3 раза",
                "format": "Формат:",
                "format-value": "Онлайн/Оффлайн",
                "course-for": "Для кого этот курс",
                "for-beginners": "Новичкам в IT",
                "for-beginners-desc": "Кто хочет начать карьеру в веб-разработке",
                "for-designers": "Дизайнерам",
                "for-designers-desc": "Кто хочет понимать технические ограничения",
                "module-1-item-1": "• Структура HTML-документа",
        "module-1-item-2": "• Теги и атрибуты",
        "module-1-item-3": "• Семантическая верстка",
        "module-1-item-4": "• Формы и инпуты",
        "module-1-item-5": "• Мета-теги и SEO основы",
        
        // Module 2 items
        "module-2-item-1": "• Селекторы и специфичность",
        "module-2-item-2": "• Box model и позиционирование",
        "module-2-item-3": "• Flexbox и Grid layouts",
        "module-2-item-4": "• Адаптивный дизайн",
        "module-2-item-5": "• CSS переменные",
        
        // Module 3 items
        "module-3-item-1": "• Создание лендинга",
        "module-3-item-2": "• Верстка по макету Figma",
        "module-3-item-3": "• Адаптация под мобильные устройства",
        "module-3-item-4": "• Оптимизация и производительность",
        "module-3-item-5": "• Деплой проекта",
                
        

            },
            tj: {
                // Навигация
                "nav-services": "Хизматҳо",
                "nav-courses": "Курсҳо",
                "nav-about": "Дар бораи мо",
                "nav-contact": "Бо мо тамос гиред",
                "nav-phone": "+992 800 55-77-77",

                // Hero секция
                "hero-title": "Аз идея то воқеият — IT-корҳо ва омӯзиш барои шумо",
                "hero-subtitle": "Бо мо ояндаро созед — омӯзед, барномарезӣ кунед ва орзуятонро амали гардонед.",
                "hero-start": "Оғоз",
                "hero-learn-more": "Маълумоти бештар",

                // О нас
                "about-title": "Ба мо ҳамроҳ шавед",
                "about-description": "Мо — студияи IT-и шумо. Мо на танҳо вебсайтҳо, барномаҳо ва нармафзорҳоро барои вазифаҳои шумо таҳия мекунем, балки ба шумо барномасоз шуданро меомӯзонем.",
                "about-staff": "Кормандоне, ки пурра вақт кор мекунанд",
                "about-services": "Хизматҳо",
                "about-courses": "Курсҳои таҳсилӣ",

                // Услуги
                "services-title": "Мо ҳама чизро дар IT мекунем",
                "services-subtitle": "Таҳия, дастгирӣ ва таҳсил — силсилаи пурраи хизматҳо барои тиҷорат ва касби шумо дар IT.",
                "service-web": "Эҷод ва таҳияи вебсайтҳо",
                "service-web-desc": "Мо вебсайтҳое месозем, ки на танҳо зебо, балки барои корбар осон ва дӯстдошта бошанд: корпоративӣ, лендингҳо ва мағозаҳои интернетӣ. Ҳар як лоиҳа ба таври инфиродӣ, бо назардошти эҳтиёҷоти тиҷорати шумо таҳия мешавад.",
                "service-support": "Дастгирӣ ва ҳамроҳӣ",
                "service-support-desc": "Мо кори устувори лоиҳаҳои шуморо таъмин мекунем: навсозӣ, дастгирии техникӣ ва муҳофизат аз ихтилол. Шумо метавонед бовар дошта бошед, ки вебсайти шумо ҳамеша бе ихтилол кор хоҳад кард.",
                "service-design": "Тарроҳӣ ва брендсозӣ",
                "service-design-desc": "Мо тарроҳии беназир ва услуби брендиро барои тиҷорати шумо таҳия мекунем. Мо интерфейсҳо, логотипҳо ва ҳалли визуалиро месозем, ки бренди шуморо шинохта ва муосир мекунад.",
                "service-apps": "Таҳияи барномаҳо",
                "service-apps-desc": "Мо барномаҳои мобилӣ ва вебӣ месозем, ки барои корбар осон ва барои тиҷорат самарабахш бошанд. Ҳар як барнома ба таври алоҳида барои беҳтар кардани кори шумо ва хурсандии корбарон таҳия мешавад.",

                // Курсы
                "courses-title": "Курсҳои Академия",
                "courses-subtitle": "Роҳи таҳсили худро интихоб кунед ва дар Frontend, Backend, таҳияи барномаҳои мобилӣ ё бо барномаи мо барои кӯдакон маҳорат ҳосил кунед.",
                "course-html": "HTML ва CSS",
                "course-html-desc": "Блокҳои сохтмонии вебро омӯзед",
                "course-js": "JavaScript",
                "course-js-desc": "Забони барномасози барои вебсайтҳои интерактивӣ-ро омӯзед",
                "course-react": "React",
                "course-react-desc": "Китобхонаи муосири фронтенд",
                "course-kids": "Барномасозӣ барои кӯдакон",
                "course-kids-desc": "Омӯзиши ҷолиб аз сифр",
                "course-design": "Дизайни графикӣ",
                "course-design-desc": "Контентҳои визуалӣ эҷод кунед",
                "course-golang": "Golang",
                "course-golang-desc": "Забони баланд суръати Google",
                "course-cpp": "Асосҳои C++",
                "course-cpp-desc": "Забони қаввии системавӣ",
                "course-csharp": "Асосҳои C#",
                "course-csharp-desc": "Забони универсалии Microsoft",
                "course-python": "Python",
                "course-python-desc": "Забони машҳур барои ҳама вазифаҳо",
                "course-git": "Git",
                "course-git-desc": "Системаи назорати версияҳо",
                "course-start": "Оғози курс",
                "show-more": "Курсҳои бештар нишон диҳед",
                "show-less": "Курсҳоро пинҳон кунед",

                // Контактная форма
                "contact-title": "Маслиҳати ройгон",
                "contact-subtitle": "Маълумоти тамоси худро гузоред, мо ба шумо занг мезанем ва ба ҳама саволҳои шумо ҷавоб медиҳем",
                "mail-button":"Дархост фиристодан",
                "mail-note": "Барои кушодани форми дархост дар варақаи нав, тугмаро пахш кунед.",
                "first-name": "Ном *",
                "first-name-placeholder": "Номи худро ворид кунед",
                "last-name": "Насаб",
                "last-name-placeholder": "Насаби худро ворид кунед",
                phone: "Рақами телефон *",
                "phone-placeholder": "900 123-45-67",
                message: "Паём",
                "message-placeholder": "Дар бораи саволҳо ё мақсадҳои таҳсили худ нақл кунед...",
                privacy: "Ман розӣ ҳастам бо",
                "privacy-policy": "сиёсати махфият",
                submit: "Фиристодани дархост",
                "required-fields": "* Майдонҳои ҳатмӣ барои пур кардан",

                // Футер
                "footer-description": "Академияи IT ва студияи таҳия. Мо ҳалли рақамӣ эҷод мекунем ва мутахассисони ояндаро таҳсил медиҳем.",
                "footer-courses": "Курсҳо",
                "footer-services": "Хизматҳо",
                "footer-frontend": "Таҳияи Frontend",
                "footer-backend": "Таҳияи Backend",
                "footer-design": "Тарроҳӣ",
                "footer-web-dev": "Таҳияи вебсайтҳо",
                "footer-mobile": "Барномаҳои мобилӣ",
                "footer-support": "Дастгирии техникӣ",
                "footer-copyright": "© 2025 SKA-Tech. Ҳама ҳуқуқҳо ҳифз шудаанд.",
                "footer-about": "Дар бораи мо",
                "footer-privacy": "Сиёсати махфият",
                "footer-contact": "Тамос",

                // Тексты для страницы курса HTML и CSS
                "course-page-title": "HTML ва CSS",
                "course-page-subtitle": "Асосҳои таҳияи вебро омӯзед ва аввалин вебсайтҳои худро эҷод кунед",
                "course-program": "Барномаи курс",
                "module-1": "Модули 1: Асосҳои HTML",
                "module-1-list": "• Сохти санади HTML\n• Тегҳо ва сифатҳо\n• Версткаи семантикӣ\n• Формаҳо ва вурудҳо\n• Мета-тегҳо ва асосҳои SEO",
                "module-2": "Модули 2: Асосҳои CSS",
                "module-2-list": "• Интихобкунандаҳо ва махсусӣ\n• Модели ҷаъба ва ҷойгиркунӣ\n• Flexbox ва Grid\n• Тарроҳии мувофиқшаванда\n• Тағирёбандаҳои CSS",
                "module-3": "Модули 3: Амалиёт",
                "module-3-list": "• Эҷоди лендинг\n• Верстка бо макети Figma\n• Мувофиқсозӣ барои дастгоҳҳои мобилӣ\n• Беҳтарсозӣ ва суръат\n• Деплои лоиҳа",
                "course-price": "699 с",
                "price-description": "барои тамоми курс",
                "feature-1": "12 дарси амалӣ",
                "feature-2": "Дастрасӣ ба материалҳо барои ҳамеша",
                "feature-3": "Шаҳодатнома бораи хатми курс",
                "feature-4": "Дастгирии омӯзгор",
                "enroll-button": "Ба курс сабти ном кунед",
                "course-details": "Тафсилоти курс",
                "level": "Сатҳ:",
                "level-value": "Оғозӣ",
                "duration": "Давомнокӣ:",
                "duration-value": "4 ҳафта",
                "classes-per-week": "Дарсҳо дар як ҳафта:",
                "classes-value": "3 маротиба",
                "format": "Формат:",
                "format-value": "Онлайн/Офлайн",
                "course-for": "Барои киҳо ин курс мувофиқ аст",
                "for-beginners": "Барои навкор дар IT",
                "for-beginners-desc": "Онҳое, ки мехоҳанд касби худро дар таҳияи веб оғоз кунанд",
                "for-designers": "Барои тарроҳон",
                "for-designers-desc": "Онҳое, ки мехоҳанд маҳдудиятҳои техникӣро фаҳманд",
                 "module-1-item-1": "• Сохти санади HTML",
        "module-1-item-2": "• Тегҳо ва сифатҳо",
        "module-1-item-3": "• Версткаи семантикӣ",
        "module-1-item-4": "• Формаҳо ва вурудҳо",
        "module-1-item-5": "• Мета-тегҳо ва асосҳои SEO",
        
        // Module 2 items
        "module-2-item-1": "• Интихобкунандаҳо ва махсусӣ",
        "module-2-item-2": "• Модели ҷаъба ва ҷойгиркунӣ",
        "module-2-item-3": "• Flexbox ва Grid",
        "module-2-item-4": "• Тарроҳии мувофиқшаванда",
        "module-2-item-5": "• Тағирёбандаҳои CSS",
        
        // Module 3 items
        "module-3-item-1": "• Эҷоди лендинг",
        "module-3-item-2": "• Верстка бо макети Figma",
        "module-3-item-3": "• Мувофиқсозӣ барои дастгоҳҳои мобилӣ",
        "module-3-item-4": "• Беҳтарсозӣ ва суръат",
        "module-3-item-5": "• Деплои лоиҳа",
               
        
            },
            en: {
  // Navigation
  "nav-services": "Services",
  "nav-courses": "Courses",
  "nav-about": "About",
  "nav-contact": "Contact Us",
  "nav-phone": "+992 800 55-77-77",

  // Hero
  "hero-title": "IT Solutions & Training: From Idea to Launch",
  "hero-subtitle": "Code the future with us. We build websites — and help you build yours.",
  "hero-start": "Get Started",
  "hero-learn-more": "Learn More",

  // About
  "about-title": "Work with Us",
  "about-description": "We’re your full-stack IT studio. We develop websites, apps, and custom software for your needs — and teach programming from scratch.",
  "about-staff": "Full-time teammates",
  "about-services": "Services",
  "about-courses": "Courses Taught",

  // Services
  "services-title": "We Do It All in IT",
  "services-subtitle": "Development, support, and training — a full service cycle for your business and IT career.",
  "service-web": "Website Design & Development",
  "service-web-desc": "We create modern, user-friendly websites: corporate sites, landing pages, and online stores. Every project is tailored to your business goals.",
  "service-support": "Support & Maintenance",
  "service-support-desc": "We keep your projects stable: updates, tech support, and outage protection — so your site stays online without interruptions.",
  "service-design": "Design & Branding",
  "service-design-desc": "We craft unique design and brand identity: interfaces, logos, and visuals that make your brand recognizable and current.",
  "service-apps": "App Development",
  "service-apps-desc": "We build mobile and web apps that are convenient, functional, and modern — improving your operations and delighting users.",

  // Courses
  "courses-title": "Academy Courses",
  "courses-subtitle": "Choose your learning path — Frontend, Backend, Mobile, or start with our kids’ program.",
  "course-html": "HTML & CSS",
  "course-html-desc": "Learn the building blocks of the web",
  "course-js": "JavaScript",
  "course-js-desc": "Master the language of the web",
  "course-react": "React",
  "course-react-desc": "Modern frontend library",
  "course-kids": "Programming for Kids",
  "course-kids-desc": "Fun learning from zero",
  "course-design": "Graphic Design",
  "course-design-desc": "Create visual content",
  "course-golang": "Golang",
  "course-golang-desc": "High-performance language",
  "course-cpp": "C++ Basics",
  "course-cpp-desc": "Powerful systems language",
  "course-csharp": "C# Basics",
  "course-csharp-desc": "Universal language by Microsoft",
  "course-python": "Python",
  "course-python-desc": "A popular language for everything",
  "course-git": "Git",
  "course-git-desc": "Version control system",
  "course-start": "Start Course",
  "show-more": "Show More Courses",
  "show-less": "Show Fewer Courses",

  // Contact form
  "contact-title": "Free Consultation",
  "contact-subtitle": "Leave your contact details — we’ll call you back and answer all your questions.",
  "mail-button": "Send Request",
  "mail-note": "Click the button to open the form in a new tab",
  "first-name": "First Name *",
  "first-name-placeholder": "Enter your first name",
  "last-name": "Last Name",
  "last-name-placeholder": "Enter your last name",
  phone: "Phone number *",
  "phone-placeholder": "900 123-45-67",
  message: "Message",
  "message-placeholder": "Tell us about your questions or learning goals…",
  privacy: "I agree to the",
  "privacy-policy": "privacy policy",
  submit: "Submit",
  "required-fields": "* Required fields",

  // Footer
  "footer-description": "IT academy and development studio. We create digital solutions and train future professionals.",
  "footer-courses": "Courses",
  "footer-services": "Services",
  "footer-frontend": "Frontend Development",
  "footer-backend": "Backend Development",
  "footer-design": "Design",
  "footer-web-dev": "Website Development",
  "footer-mobile": "Mobile Apps",
  "footer-support": "Technical Support",
  "footer-copyright": "© 2025 SKA-Tech. All rights reserved.",
  "footer-about": "About",
  "footer-privacy": "Privacy Policy",
  "footer-contact": "Contacts",

  // Course page: HTML & CSS
  "course-page-title": "HTML & CSS",
  "course-page-subtitle": "Master the basics of web development and build your first websites",
  "course-program": "Course Program",

  "module-1": "Module 1: HTML Basics",
  "module-1-list": "• HTML document structure\n• Tags and attributes\n• Semantic layout\n• Forms and inputs\n• Meta tags and SEO basics",

  "module-2": "Module 2: CSS Basics",
  "module-2-list": "• Selectors and specificity\n• Box model and positioning\n• Flexbox and Grid layouts\n• Responsive design\n• CSS variables",

  "module-3": "Module 3: Practice",
  "module-3-list": "• Building a landing page\n• Coding from a Figma mockup\n• Mobile adaptation\n• Optimization and performance\n• Project deploy",

  "course-price": "5,999 ₽",
  "price-description": "for the entire course",
  "feature-1": "12 practical lessons",
  "feature-2": "Lifetime access to materials",
  "feature-3": "Certificate of completion",
  "feature-4": "Instructor support",
  "enroll-button": "Enroll Now",
  "course-details": "Course Details",
  "level": "Level:",
  "level-value": "Beginner",
  "duration": "Duration:",
  "duration-value": "4 weeks",
  "classes-per-week": "Classes per week:",
  "classes-value": "3 times",
  "format": "Format:",
  "format-value": "Online/Offline",
  "course-for": "Who This Course Is For",
  "for-beginners": "IT Beginners",
  "for-beginners-desc": "Those who want to start a web-dev career",
  "for-designers": "Designers",
  "for-designers-desc": "Those who want to understand technical constraints",

  // Module 1 items
  "module-1-item-1": "• HTML document structure",
  "module-1-item-2": "• Tags and attributes",
  "module-1-item-3": "• Semantic layout",
  "module-1-item-4": "• Forms and inputs",
  "module-1-item-5": "• Meta tags and SEO basics",

  // Module 2 items
  "module-2-item-1": "• Selectors and specificity",
  "module-2-item-2": "• Box model and positioning",
  "module-2-item-3": "• Flexbox and Grid layouts",
  "module-2-item-4": "• Responsive design",
  "module-2-item-5": "• CSS variables",

  // Module 3 items
  "module-3-item-1": "• Building a landing page",
  "module-3-item-2": "• Coding from a Figma mockup",
  "module-3-item-3": "• Mobile adaptation",
  "module-3-item-4": "• Optimization and performance",
  "module-3-item-5": "• Project deploy"
}
        };

        let currentLang = "ru";

function changeLanguage(lang) {
  if (!translations[lang]) lang = "ru"; // fallback
  currentLang = lang;
  document.documentElement.lang = lang;

  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    const val = translations[lang][key];
    if (!val) return; // skip missing keys
    if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
      el.placeholder = val;
    } else {
      el.textContent = val;
    }
  });

  updatePhoneLinks(lang);
  updateLanguageSwitcher(lang);
  updateMobileLanguageSwitcher(lang);
  localStorage.setItem("preferred-language", lang);
}

function updatePhoneLinks(lang) {
  const phoneNumber = translations[lang]["nav-phone"];
  const clean = phoneNumber.replace(/[\s\-()]/g, ""); // keep leading +
  const desktopLink = document.getElementById("desktop-phone-link");
  if (desktopLink) {
    desktopLink.href = `tel:${clean}`;
    const span = desktopLink.querySelector('[data-i18n="nav-phone"]');
    if (span) span.textContent = phoneNumber;
  }
  const mobileLink = document.getElementById("mobile-phone-link");
  if (mobileLink) {
    mobileLink.href = `tel:${clean}`;
    const span = mobileLink.querySelector('[data-i18n="nav-phone"]');
    if (span) span.textContent = phoneNumber;
  }
}

// --- UPDATED: support ru, tj, en
function updateLanguageSwitcher(lang) {
  const flag = document.getElementById("language-flag");
  const text = document.getElementById("language-text");
  if (!flag || !text) return;

  switch (lang) {
    case "ru":
      flag.src = "../images/flags/russia.png";
      flag.srcset = "../images/flags/russia.png 2x";
      flag.alt = "Русский флаг";
      text.textContent = "РУС";
      break;
    case "tj":
      flag.src = "../images/flags/tajikistan.png";
      flag.srcset = "../images/flags/tajikistan.png 2x";
      flag.alt = "Флаг Таджикистана";
      text.textContent = "ТҶК";
      break;
    case "en":
      flag.src = "../images/flags/uk.png";       // or us.png – your choice
      flag.srcset = "../images/flags/uk.png 2x";
      flag.alt = "English flag";
      text.textContent = "EN";
      break;
  }
}

function updateMobileLanguageSwitcher(lang) {
  const flag = document.getElementById("mobile-language-flag");
  const text = document.getElementById("mobile-language-text");
  if (!flag || !text) return;

  switch (lang) {
    case "ru":
      flag.src = "../images/flags/russia.png";
      flag.srcset = "../images/flags/russia.png 2x";
      flag.alt = "Русский флаг";
      text.textContent = "РУС";
      break;
    case "tj":
      flag.src = "../images/flags/tajikistan.png";
      flag.srcset = "../images/flags/tajikistan.png 2x";
      flag.alt = "Флаг Таджикистана";
      text.textContent = "ТҶК";
      break;
    case "en":
      flag.src = "../images/flags/uk.png";
      flag.srcset = "../images/flags/uk.png 2x";
      flag.alt = "English flag";
      text.textContent = "EN";
      break;
  }
}

// --- OPTION A: cycle ru → tj → en → ru
function toggleLanguage() {
  const order = ["ru", "tj", "en"];
  const next = order[(order.indexOf(currentLang) + 1) % order.length];
  changeLanguage(next);
}

// Init
document.addEventListener("DOMContentLoaded", () => {
  const saved = localStorage.getItem("preferred-language");
  changeLanguage(saved && translations[saved] ? saved : "ru");
});

